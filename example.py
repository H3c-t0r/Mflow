from mlflow.entities import Metric
import mlflow
import time
import os

if __name__ == "__main__":
    os.environ[
        "MLFLOW_TRACKING_TOKEN"
    ] = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDcvIiwiaWF0IjoxNjk0NzM1MjIxLCJuYmYiOjE2OTQ3MzUyMjEsImV4cCI6MTY5NDc0MDY2OCwiX2NsYWltX25hbWVzIjp7Imdyb3VwcyI6InNyYzEifSwiX2NsYWltX3NvdXJjZXMiOnsic3JjMSI6eyJlbmRwb2ludCI6Imh0dHBzOi8vZ3JhcGgud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3VzZXJzL2JmZjM1NWY4LTFiMmYtNDExOC1hODI5LWJlMzJiNDFhMTk5Zi9nZXRNZW1iZXJPYmplY3RzIn19LCJhY3IiOiIxIiwiYWlvIjoiQVlRQWUvOFVBQUFBZ3MzUnQveHJidGJsRWd3NnZQSmxZU0Z6U0h3UGxlM1N1dXR5ckZZcVorbW12bHdNdUIvRFFTRzJDL1ppN3ZtU2xkT1E5cjBVN3ZZUnVhdzc1cjV4SEN2LzVJMGs2UUorOHErOG4xbVhFanFZR3U3ZTFMOWE0SlBKZ1k1Mk9SUmE1SkJhK05iaHlsUHBGME95S1o2dFBnZU5wN2RkUTlqNWFVMDRPcEFrbGI4PSIsImFtciI6WyJyc2EiLCJtZmEiXSwiYXBwaWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJhcHBpZGFjciI6IjAiLCJkZXZpY2VpZCI6ImJmMzUyZDFhLWRkMDAtNDVkNC1hZTNkLWJkZTRlZTAxNjUyNCIsImZhbWlseV9uYW1lIjoiU3VtYW50IiwiZ2l2ZW5fbmFtZSI6IlNhZ2FyIiwiaXBhZGRyIjoiNTAuNDcuMjM4LjI0NiIsIm5hbWUiOiJTYWdhciBTdW1hbnQiLCJvaWQiOiJiZmYzNTVmOC0xYjJmLTQxMTgtYTgyOS1iZTMyYjQxYTE5OWYiLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMjEyNzUyMTE4NC0xNjA0MDEyOTIwLTE4ODc5Mjc1MjctODEzMjg2NCIsInB1aWQiOiIxMDAzN0ZGRTgwREVCMTZGIiwicmgiOiIwLkFSb0F2NGo1Y3ZHR3IwR1JxeTE4MEJIYlIwWklmM2tBdXRkUHVrUGF3ZmoyTUJNYUFNNC4iLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzdWIiOiJFaG1fbG9faUhjUkRhdlVQOHlKTWN4ZURNLVVJbDU5T3pISVJ0SHJkM2RJIiwidGlkIjoiNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3IiwidW5pcXVlX25hbWUiOiJzYXN1bUBtaWNyb3NvZnQuY29tIiwidXBuIjoic2FzdW1AbWljcm9zb2Z0LmNvbSIsInV0aSI6IjdBSEpHWDVoclV5LVlHYm9SXzl1QUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2MiOlsiQ1AxIl0sInhtc190Y2R0IjoxMjg5MjQxNTQ3fQ.GwukxAdlwBJybzT6M1W2jBqAc7Mqhry5euYPrRDBKlNyc3gHTkGSVq1FmiIIRtfiBE362ZKm-ddLk_rakPFBryAvUGD32KYO5qpSGDbuJd92IuXDGm9N-4Tkp_1dDFGbNPfw9nsoCIKjaaZEK0iHoc7KZvSHMH_5n8xGUnfmUZYSPeDgsrMhGm6_84nuthg89AVa1G--MkqkD0ewkCrzL2yWIjrJF37O6plTOSmPaO9a-uVe575jszcYGp0r8MgRlgjVAa-yxmA5pput6oaaAK5sfBwnl4VH9nKssW9OxwZFf8MQwVl81I6TDahi-WOLEPS2NnQe3MmotNtTPHTTWA"
    mlflow.set_tracking_uri(
        "http://localhost:56171/mlflow/v2.0/subscriptions/381b38e9-9840-4719-a5a0-61d9585e1e91/resourceGroups/sasum_centraluseuap_rg/providers/Microsoft.MachineLearningServices/workspaces/sasum-int-ws-2"
    )
    experiment_name = "my-mlflow-experiment-running-locally"
    mlflow.set_experiment(experiment_name)
    with mlflow.start_run() as run:
        mlflow.log_metric("sasum-metric-2", time.time(), synchronous=False)
    print("hello")
